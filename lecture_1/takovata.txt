1. Въведение в Python 3
Курсът
По време на този курс ще се постараем по забавен и практически ориентиран подход да Ви запознаем с Python 3 - един лесен, но изключително мощен език за програмиране. Освен за самия език, ще обясним и доста важни, общовалидни концепции, които са в основата на съвременното програмиране.

Осигурете си надеждна машина, тъй като ще пишем доста код. Ще Ви е полезно да следвате и живите примери по време на лекциите.

Особено в началото, някои неща ще бъдат “щото така”, за да не се отклоняваме от темата. С течение на курса ще ги обясним в подробности.

Пазете си решенията на задачите - често ще се връщаме към едни и същи задачи, които ще доразвиваме, така че да се приближават все повече до реалните ситуации и условия, които може срещнете в работата си.

Какво няма да има в този курс?
“Hello world” - всеки път, когато на презентация и лекция видите някой да показва "Hello world", това означава, че човекът пред Вас или го е домързяло, или не може да измисли по-смислено приложение на демонстрираната технология. Ще направим всичко възможно в този курс да няма "Hello world" - даже и най-простия демонстрационен код би могъл да върши някаква полезна работа :о)
Разработка на web приложения с Python - разработката на web приложения с Python e доста широка, и ще бъде тема за отделен курс.
"Таковата"
"Таковата" е нашата нова и експериментална система, с която ще се опитаме да направим курса малко по-динамичен, и по-полезен.

В "Таковата" ще качваме основните моменти от лекциите - структура на лекцията, важни описания и дефиниции, и линкове към ресурси по темата в Интернет. И въпреки, че не целим съдържанието на лекциите в "Таковата" да е съпоставимо със "Записки по българските възстания" - все пак повечето материал ще бъде под формата на живи демонстрации и задачи, определено според нас ще намалим ефектите "шрифта", "проектора", "последния ред" и "чакай да препиша линка" :о)

По-ценното в Таковата всъщност ще блесне, когато дойде време за задачите. Обикновено по време на подобни курсове задачите остават в края на лекцията, и това се прави по една основна причина - всеки решава задачите за различно време. Ако задачите са по средата на лекцията, или се губи много време докато всички решат задачата, или пък задачата се спира, а немалка част от хората все още не са приключили с решаването й.

От друга страна, когато задачите са в края, е въможно да се загуби връзката с преподавания материал.

Ние сме възприели подход, с който ще се опитаме да извлечем най-доброто и от двата подхода. Задачите ще бъдат по време на лекцията - веднага, след като покажем или обясним нещо. За да не губим прекалено много време в чакане, ще преминаваме напред, когато повече от половината от присъстващите в залата успеят да решат задачата.

Условията на задачите ще бъдат разписани в системата, но на страницата на задачата ще има и 3 магически бутона - "Готово", "Проблем" и "Въпрос". Ако успеете да решите задачата, моля дайте ни знак с бутона "Готово". На лекторския екран това ще се отрази в реално време, и ще можем веднага да определим кога да продължаваме напред.

Защо да си качвате решенията в Таковата?
Освен магическите 3 бутона, можете да качвате и решенията в системата - полето за код се намира точно под условието на задачата.

Въпреки, че въобще не е задължително да го правите, качването на решенията в системата ще помогне много на всички ни, защото ще ни даде възможност:

... да прегледаме как се справяте на момента, без да е необходимо да Ви обикаляме като пчелички и да Ви разпитваме;
... да покажем добрите решения на дъската и да ги обсъдим заедно. Дали искате името Ви да се показва, когато показваме решението зависи изцяло от Вас (по подразбиране имената няма да бъдат показвани).
... да видим на момента често срещани грешки, което може да означава, че не сме обяснили достатъчно добре нещата по време на лекции, а това е една от най-важните обратни връзки за един лектор;
Лекторът
Казвам се Борис Червенков. С повече от 20 години професионален опит в информационните технологии, през които съм бил част от почти всички аспекти на IT индустрията - разработка на софтуер за множество платформи, технологии и езици за програмиране, обучение, управление на екипи и проекти, sales, UI/UX и quality assurance. Работя с Python вече повече от 7 години.

Можете да ме намерите в Twitter - @b_chervenkov, или boris.chervenkov@gmail.com

Философията на Python
>>> import this

The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you're Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let's do more of those!
Eдин съдържателен post от създателя на Python - Guido van Rossum

The History of Python: Python's Design Philosophy

Чист и ясен програмен код
В реалнността, огромна част от живота на един проект всъщност е поддръжката и развитието му.

Рядкост са програмните езици, които толкова много държат на четимостта на кода, както Python. Самият факт, че идентацията е в основата на структурирането на кода, е изключително показателен за това. В Python не само че трудно ще видите неподреден код, но най-вероятно той няма и да работи.

Един (изопачен) пример - кодът по-долу е абсолютно валиден C код. Компилаторът ще го компилира без никакъв проблем, и кодът ще работи коректно.

#include <stdio.h>
int main(void) {
int sum = 0;
int current;
do {
printf("Enter an integer > ");
scanf("%d", &current);
if (current > 0) sum = sum + current;
} while (current > 0);
printf("The sum is %d\n", sum);
}
Същият код, написан на Python, изглежда така:

total_sum = 0
current_number = None
while current_number is None or current_number > 0:
    current_number_str = input('Enter an integer > ')
    current_number = int(current_number_str)
    total_sum += current_number
print('The sum is', total_sum)
Ако тялото на цикъла не е правилно отместено, Python ще откаже да стартира кода.

Именованите параметри, краткия запис, липсата на cruft, както и много други аспекти на Python, които ще разгледаме по време на курса, правят кода по-лесен за четене и разбиране.

В Python общността е възприет стил на писане, описан в т.нар. PEP8 . Най-основните правила, към които ще искаме да се придържаме, включват:

идентацията на кода е с интервали (не с tab-ове);
най-често идентацията е 4 интервала;
имената на променливите и функциите са с т.нар. "snake_case" - малки букви, и разделител долно тире ("подчертавка") между отделните думи;
имената на класовете са т.нар. "CamelCase" - както при C++, Java & C#;
трябва да има интервали около операторите (напр. if a == b: ...., а не if a==b: ...), като изключение са само именованите параметри на функции и методи, които ще разгледаме в следващите лекции.
трябва да има поне 2 празни реда между дефиниции на функции и класове;
"Batteries included"
Стандартната библиотека на Python включва немалко модули и пакети, които ще Ви помогнат в решаването на редица проблеми и задачи.

Например, в Python има прост web сървър, с който можете лесно и бързо да тествате или да споделите директория, даже и да не сте програмист на Python:

$ python3 -m http.server
Особености на синтаксиса
"Kъде са ми скобичките?"
..., пита почти всеки, който за пръв път се сблъсква с Python (или CoffeeScript, или YAML). Въпреки, че в началото е малко странно как структурата на кода се определя с идентация/отместване, тази особеност на езика всъщност много допринася за ясния и четим код. Отговорът е: "Скобичките са в другите езици за програмиране :о)"

Предпочитат се думите пред странните символи
Да - в Python можете да напишете a & b и a | b (понякога с неочаквани резултати), но когато става дума за логическите оператори "и" и "или", винаги се предпочита a and b и a or b.

други ... няма :о)
добре де, излъгахме малко, но ще ги видим в течение на курса.

Задача: 1. Инсталирайте Python на Вашия компютър
.

Инструменти за писане на Python приложения
За да пишем приложения с Python е достатъчно да имаме произволен текстов редактор, който може да записва текстови файлове. За улеснение, обаче, е доста по-добре да използваме специализирани инструменти, които да ни подпомагат в тази дейност.

PyCharm Edu
За настоящия курс препоръчваме да използвате PyCharm Edu - специална безплатна версия на най-добрата среда за разработка на Python - PyCharm. Базирана е на IDEA, която вече повече от 10 години е водеща в удобство и иновации при интегрираните среди за разработка.

PyCharm Edu осигурява прост и изчистен интерфейс, ориентиран към начинаещи в програмисти. В PyCharm Edu има вградени възможности за курсове и самообучение, които можете да използвате в подготовката си за курса.

Задача: 2. Инсталирайте PyCharm Edu
Освен версията Edu, PyCharm има и версии Community Edition - мощен инструмент за разработка на приложения с Python, както и платена Professional Edition - изключително мощен инструмент, с поддръжка на популярни Python frameworks, JavaScript, HTML, CSS и много други технологии.

Кратко обяснение как се работи с PyCharm Edu
PyCharm Edu е силно опростена среда за разработка, насочена към начинаещи програмисти. В тази версия на средата са оставени само най-необходимите инструменти, които Ви трябват, за да започнете да програмирате с Python 3.

Когато работите, е много важно да организирате работата си. В следващите няколко параграфа ще Ви покажем как Ви предлагаме да организирате работата си за този курс.

A. Стартирайте PyCharm Edu

Стартиране на PyCharm Edu

B. Изберете "Create new project"

Нов проект

C. Попълнете следните полета за новия проект:

Като тип на проекта изберете "Pure Python"
Изберете директория и име на проекта
Уверете се, че в полето "Interpreter" е избрана версия на Python 3
Директория и име на проекта

D. Организация на проекта

Предлагаме Ви да организирате файловете си по лекции:

всяка лекция да бъде в отделна директория
всяка задача да бъде в отделен файл
Конвенцията за именоване в Python е малки букви и "подчертавки" (долно тире) като разделител, така че първата демонстрация ще бъде в директория lecture_01 , файл demo_turtle_01.py , както е показано по-долу.

Меню "Нова директория"

Директория за лекция - диалог

Меню "Нов файл"

Диалог "Нов файл"

При следващо стартиране PyCharm Edu автоматично ще отвори последния прокет, по който сте работили.

E. Първи пример и стартиране на файл

В новия файл копирайте и поставете следния код:

import turtle
turtle.speed('fastest')

colors = ['red', 'green', 'blue', 'purple']

for a in range(4):
    turtle.color(colors[a])
    x = 1
    for b in range(1, 100):
        turtle.forward(10)
        turtle.right(100 - x)
        x += 1

turtle.done()
Стартирайте файла с помощта на зелената стрелка на първия ред:

Диалог "Нов файл"

Текстови редактори
Ако не желаете да използвате специализирана среда за разработка (IDE), можете да използвате някои от популярните текстови редактори за код, които поддържат syntax highlight на Python.

SublimeText - http://www.sublimetext.com/3 - един от най-мощните текстови редактори; работи под Windows, Linux & MacOS.
GitHub Atom - https://atom.io/ - работи под Windows, Linux & MacOS
Microsoft Visual Studio Code - https://code.visualstudio.com/ - работи под Windows, Linux & MacOS
Komodo Edit - http://komodoide.com/komodo-edit/ - работи под Windows, Linux & MacOS
vim - http://www.fullstackpython.com/vim.html - работи под Linux, MacOS & Windows
Notepad++ - https://notepad-plus-plus.org/ - работи само под Windows
За да стартирате написаната програма:

Под Linux & MacOS :

python3 your_program.py
Под Windows е най-лесно да стартирате специализираната Python конзола и да напишете:

python your_program.py
Пробвайте сами
Полезни операции с костенурката:

turtle.forward(length) - чертае права линия напред с дължина length като премества и костенурката
turtle.backward(length) - чертае права линия назад с дължина length като премества и костенурката
turtle.left(degrees) - завърта костенурката наляво, в градуси.
turtle.right(degrees) - завърта костенурката надясно, в градуси.
turtle.color('red') - сменя цвета на чертане на костенурката; всички рисувания след това ще използват този цвят; За цветове можете да използвате 'black', 'red', 'green', 'blue', 'orange', 'yellow', 'purple', и всички именовани цветове от HTML/CSS; също така можете да използвате и HTML/CSS цветове, напр: '#BA3290'.
turtle.speed('fastest') - задава скоростта, с която костенурката рисува; можете да използвате 'fastest', ''fast'', 'normal', 'slow' и 'slowest'.
turtle.done() - изчаква да затворите прозореца, след като рисуването е прилкючило
За по-подробна информация: Python 3 official documentation - turtle — Turtle graphics

Задача: 3. Нарисувайте квадрат
Основи на Python
Типове данни
Основни типове данни int, float, str, bool, set, list, dict, None

int - произволно големи цели числа
float - числа с плаваща запетая
bool - булеви стойности - True и False
str - символни низове
bytes - последователност от байтове
tuple - наредена последователност от стойности, които могат да бъдат от един или различни типове;
list - списък (познат в други езици като "масив") от стойности, които могат да бъдат от един или различни типове;
dict - речник (познат в други езици като "dictionary", "Hashtable", "асоциативен масив" и т.н.), където за всеки уникален ключ има съответстваща стойност; ключовете и стойностите могат да бъдат от едни или различни типове; има ограничения за това какво може да се използва като ключ, което ще разясним в следващите лекции;
set - множество от неповтарящи се стойности от един или различни типове; има ограничения за това какво може да бъде елемент на множествата, което ще разясним в следващите лекции;
None - нулев обект (познат в други езици като "null", "nil" и т.н.)
Всичко в Python е обект
Променливи
променливите възникват в момента, в който присвоите стойност на идентификатор - няма нужда да ги обявявате предварително;
както повечето скриптови езици, Python е динамично типизиран език - една променлива може да съдържа стойност int, а в последващ момент да й присвоим стойност str.;
DEMO
Именоване и използване на променливите

името на променливата трябва да е ясно и достатъчно описателно - не се притеснявайте, ако имената на променливите Ви са малко по-дълги - все пак затова имаме auto complete;
името на променливата трябва да отговаря на смисъла на стойността, която съдържа;
конвенцията за именоване на променливи е да се използват малки букви, с разделител долно тире ("подчертавка") - например user_input
винаги използвайте една променлива само по едно единствено предназначение - това ще Ви спести доста главоболия за в бъдеще;
Аритметика
demo
деление на цели цисла и разликата между / и //
деление на числа при които поне едното е float
големи числа
степенуване
modulus % - остатък от целочислено делене
divmod
round, math.trunc, math.ceil, math.floor
операции с несъвместими типове
Условни оператори
demo
if
elif
else
Няма switch оператор в Python
Логически оператори
demo
==, <, <=, >, >=, !=
and, or
Преобразуване на типове
demo
str(),int(),float(),bool()
Показваме какво се случва при несъвместими типове
Коментари в кода
Едноредов
Многоредов
Прост вход и изход
user_input = input("Please enter your name: ")

# user_input съдържа string, който е въведен от потребителя

print(user_input)   # отпечатва стойността, като слага и нов ред
print(user_input, "34", 882.45)  # отпечатва всички подадени стойности, разделени с интервал, и слага нов ред

print(user_input, end="")   # отпечатва стойността, като вместо нов ред отпечатва подадената стойност в параметъра  end - в този пример няма да бъде добавен нов ред
Цикли
В Python има само 2 вида цикли - for и while.


for number in range(4):
    print(number)

# Ще отпечата:
# 0
# 1
# 2
# 3

counter = 0
while counter < 4:
    print(counter)
    counter += 1

# Ще отпечата:
# 0
# 1
# 2
# 3
Операторите break и continueработят както във всички популярни езици за програмиране.

Задача: 4. Рисуване в цикъл по зададени ъгъл и дължина на линията
Задача: 5. Модифицирайте кода, така че да спре след определен брой итерации
Задача: 6. Модифицирайте кода, така че да рисува интересни неща
Задача: 7. Нарисувайте дъска за шах
Полезни връзки
Материали и курсове за Python
Това са само много малка част от достъпните в Интернет курсове, книги и материали, от които можете да допълните знанията си за Python:

Dive into Python 3 - един от най-добрите ръководства, от които можете да научите Python;
Курс за Python от CodeAcademy
Google's Python Class
A Byte of Python
Introduction to Programming with Python от OpenTechSchool
Python Practice Book
Cheatsheet за разликите между Python 2 и Python 3
Online интерпретатори за Python
Online изпълнение на Python код на официалния сайт на езика
Online изпълнение на Python код от repl.it, който поддържа и много други езици
Online изпълнение на Python код със Skulpt - Python интерпретатор в browser-а.
Въпроси и отговори
Защо резултатът от 5 or 2 е 5, а резултатът от 5 and 2 е 2 ?
Въпрос
от Димитър Димитров от Бургас
Моля да обясните логиката в решенията по-долу :

five = 5
two = 2
zero = 0

five and two
2

two and five
5

five and zero
0

# ---

nought = 0

five or two
5

two or five
2

zero or five
5

zero or nought
0
Отговор
За да си отговорим на въпроса, трябва да знаем 3 неща:

използване на булеви оператори с не-булеви стойности
т.нар. short circuit boolean evaluation
резултатите от булеви оператори в Python, JS и други езици е последната стойност, която е била взета предвид.
Малко по-подробно:

В Python (както и други скриптови езици, например JavaScript) могат да изпълняват булеви операции върху стойности, които не са boolean тип. При такива изрази стойностите се третират като truthy & falsy - както обясних на първата лекция, а и снощи на лекцията за функции и текстови файлове. Най-общо правилото е:

falsy стойности са None, 0, 0.0, "" празен str, празен list, празен set, празен dict; когато някоя от тези стойности се използва с булев оператор (and, or) или в булев контекст (if , while), се приема за False;
truthy - всички останали стойности, например 214, 'non-empty string', list dict или set с поне един елемент;
Това позволява да работи код като:

two = 2
zero = 0

if two or zero:   # equivalent to   True or False  -> True
    ...  # will be executed

if two and zero:   # equivalent to   True and False  -> False
    ...  # will NOT be executed
Short-circuit boolean evaluation най-общо означава, че ако имаме операция and или or, ако от първия операнд може да се заключи какъв ще е крайния резултат, втория въобще не се изпълнява. Например:

При операция and и двата операнда трябва да имат стойност True (или truthy), за да може крайният резултат да е True; ако първият операнд има стойност False, втория няма смисъл да се разглежда, и в тази ситуация Python въобще не взема предвид или не изпълнява втория оператор;
При операция or е достатъчно само един от двата операнда да има стойност True (или truthy), за да може крайният резултат да е True; ако първият операнд има стойност True, втория няма смисъл да се разглежда, и в тази ситуация Python въобще не взема предвид или не изпълнява втория оператор;
При използване на не-булеви стойности с булеви оператори, резултатът от операцията е последната стойност, която е била взета предвид.

При това кодът от твоя въпрос работи така:

>>> five = 5
>>> two = 2
>>> zero = 0

# `and` requires all values to be considered in order to determine the end result; if the first is False, the second is not considered at all

>>> five and two
2
# 5 and 2 -> 2 is the last value that was considered

>>> two and five
5
# 2 and 5 -> 5 is the last value that was considered

>>> five and zero
0
# 5 and 0 -> 0 is the last value that was considered

>>> zero and five    # !!!
0
# 0 and 5 -> 0 is tha last value that was considered; since it is falsy, there no need to check 5 in order to determine the end result of the boolean operation - the end result from the boolean operation will always be False

# ---------------------------------------------

# `or` will stop considering values if the first operand is True
# regardless of the value of the second operand, the end result will always be True

>>> nought = 0
>>> five or two
5
# as soon as the first value is determined to be truthy, the evaluation is stopped, and the last value considered was 5

>>> two or five
2
# same as above - the last value considered was 2

>>> zero or five
5
# the first value is "falsy", so `or` checks the second value to determine the end result from the operation => 5 is the last value considered

>>> zero or nought
0

# the first value is "falsy", so `or` checks the second value to determine the end result from the operation => 0 is the last value considered
Доста често в Python & Javascript точно тази особеност се използва за задаване на default стойности, ако подадените стойности са празни, например:

name = input("Please enter your name: ")
name = name or 'Unknown'

# if the user enters a non-empty string, the end value of name will be what the user entered;
# if the user enters an empty string, the end value will be 'Unknown'

print(name)
Задачи
 	№	Име на задачата